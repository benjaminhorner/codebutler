define(['../lang/toString'], function(toString) {

    var stache = /\{\{(\w+)\}\}/g; //mustache-like

    /**
     * String interpolation
     */
    /**
     * Description
     * @method interpolate
     * @param {} template
     * @param {} replacements
     * @param {} syntax
     * @return CallExpression
     */
    function interpolate(template, replacements, syntax){
        template = toString(template);
        /**
         * Description
         * @method replaceFn
         * @param {} match
         * @param {} prop
         * @return ConditionalExpression
         */
        var replaceFn = function(match, prop){
            return (prop in replacements)? toString(replacements[prop]) : '';
        };
        return template.replace(syntax || stache, replaceFn);
    }

    return interpolate;

});
